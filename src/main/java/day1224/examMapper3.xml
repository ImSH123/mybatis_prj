<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="day1224">
	<!-- 컬럼 하나에 한 행 조회
		부서번호를 입력받아서 부서명 검색 
		String dname = ss.selectOne("scsr", 부서번호)-->
	<select id="scsr" parameterType="int" resultType="String">
		select	dname
		from	dept
		where	deptno=#{deptno}
	</select>
	
	<!-- 컬럼 하나에 여러 행 조회
		부서번호를 입력받아서 부서에 속한 모든 사원명 검색 -->
	<select id="scmr" parameterType="int" resultType="String">
		select	ename
		from	emp
		where	deptno=#{deptno}
	</select>
	
	<!-- 컬럼 여러 개 한 행 조회 (DTO 사용 > typeAlias 사용)
		사원번호를 입력받아서 사원명, 직무, 연봉, 입사일, 매니저번호, 부서번호 검색 -->
	<select id="mcsr" parameterType="int" resultType="eDTO">
		select	ename, job, sal, hiredate, mgr, deptno, to_char(hiredate, 'yyyy-mm-dd hh24') strHiredate
		from	emp
		where	empno=#{empno}
	</select>
	
	<!-- 조회 컬럼과 method를 개발자가 수동으로 연결
	 	<resultMap>-->
	<resultMap type="eDTO" id="eDtoResult">
		<result column="empno" property="empno"/>
		<result column="ename" property="ename"/>
		<result column="job" property="job"/>
		<result column="sal" property="sal"/>
		<result column="hiredate" property="hiredate"/>
		<result column="mgr" property="mgr"/>
		<result column="deptno" property="deptno"/>
		<result column="strHiredate" property="strHiredate"/>
	</resultMap>
	<!-- 컬럼 여러 개 여러 행 조회 -->
	<select id="mcmr" parameterType="int" resultMap="eDtoResult">
		select	empno, ename, job, sal, hiredate, mgr, deptno, to_char(hiredate, 'yyyy-mm-dd hh24') strHiredate
		from	emp
		where	deptno=#{deptno}
	</select>
</mapper>